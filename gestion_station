//
// Created by Admin on 02/12/2023.
//

#include <stdio.h>
#include <stdlib.h>


void nouvelle_station(t_station *Station)
{
    /* Création du nouvel élément */
    t_station *nouveau = malloc(sizeof(*nouveau));
    nouveau->pSommet = (pSommet*)malloc(50*sizeof(t_sommet));
    if (nouveau->pSommet == NULL || nouveau == NULL)
    {
        exit(EXIT_FAILURE);
    }

    /* Insertion de l'élément à la bonne place */
    nouveau->numero = Station->numero + 1;
    nouveau->station_initial = Station->station_initial;
    nouveau->station_suivant = Station->station_suivant;
    Station->station_suivant = nouveau;
}

void ajout_sommet(t_station *Station, pSommet sommet, t_graphe *graphe)
{
    int num;
    num = ope_en_sommet(sommet->ope,graphe);
    if (Station == NULL || sommet == NULL)
    {
        exit(EXIT_FAILURE);
    }

    /* Insertion de l élément à la bonne place */
    graphe->psommet[num]->station = Station->numero;
    Station->pSommet[Station->taille] = sommet;
    sommet->station = Station->numero;
    Station->duree += sommet->duree;
    Station->taille++;
}

int est_fini(t_graphe *g){
    for(int i=0; i<g->ordre; i++){
        if(g->pSommet[i]->station==-1)
            return 0;
    }
    return 1;
}
